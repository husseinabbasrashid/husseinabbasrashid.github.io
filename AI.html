<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gemini AI Chat</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --bg-dark: #030712;
    --bg-card: #0f172a;
    --bg-card-hover: #1e293b;
    --card-border: rgba(59, 130, 246, 0.1);
    --card-border-hover: rgba(59, 130, 246, 0.25);
    
    --text-main: #f1f5f9;
    --text-secondary: #94a3b8;
    --text-muted: #64748b;

    --accent-primary: #3b82f6;
    --accent-secondary: #06b6d4;

    --gradient-btn: linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);
    --gradient-msg: linear-gradient(135deg,#3b82f6 0%,#06b6d4 100%);
}

*{
    box-sizing:border-box;
    margin:0;
    padding:0;
    font-family:'IBM Plex Sans Arabic',sans-serif;
}

/* ======================= */
/* GRID BACKGROUND */
/* ======================= */
body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    color:var(--text-main);
    
    background:
        linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px),
        radial-gradient(circle at top,#020617,#000000);
    
    background-size: 40px 40px, 40px 40px, auto;
}

.chat-wrapper{
    width:100%;
    max-width:520px;
    height:92vh;
    background:var(--bg-card);
    border-radius:18px;
    border:1px solid var(--card-border);
    box-shadow:0 0 40px rgba(0,0,0,0.6);
    display:flex;
    flex-direction:column;
    overflow:hidden;
    backdrop-filter: blur(10px);
}

.header{
    padding:18px;
    font-size:18px;
    font-weight:600;
    text-align:center;
    border-bottom:1px solid var(--card-border);
    background:rgba(255,255,255,0.02);
}

.chat-window{
    flex:1;
    padding:20px;
    overflow-y:auto;
    display:flex;
    flex-direction:column;
    gap:14px;
}

.message{
    padding:12px 16px;
    border-radius:12px;
    max-width:75%;
    line-height:1.7;
    font-size:15px;
    animation:fade .25s ease;
}

/* ======================= */
/* USER RIGHT */
/* ======================= */
.user{
    align-self:flex-end;
    background:var(--gradient-msg);
    color:white;
    text-align:right;
}

/* ======================= */
/* BOT LEFT */
/* ======================= */
.bot{
    align-self:flex-start;
    background:var(--bg-card-hover);
    border:1px solid var(--card-border);
    text-align:left;
}

.input-area{
    padding:14px;
    border-top:1px solid var(--card-border);
    display:flex;
    gap:10px;
    background:rgba(255,255,255,0.02);
}

input{
    flex:1;
    padding:12px 16px;
    border-radius:10px;
    border:1px solid var(--card-border);
    background:var(--bg-card-hover);
    color:var(--text-main);
    font-size:15px;
    outline:none;
}

button{
    border:none;
    padding:12px 18px;
    border-radius:10px;
    background:var(--gradient-btn);
    color:white;
    font-weight:600;
    cursor:pointer;
}

button:disabled{opacity:.5}

@keyframes fade{
    from{opacity:0; transform:translateY(6px)}
    to{opacity:1; transform:translateY(0)}
}
</style>
</head>

<body>

<div class="chat-wrapper">

<div class="header">مساعد Gemini الذكي</div>

<div id="chat-window" class="chat-window"></div>

<div class="input-area">
    <input id="user-input" placeholder="اكتب رسالتك...">
    <button id="send-btn">إرسال</button>
</div>

</div>

<script>
const API_KEY = "AIzaSyDx9hnJ7VK_1x2qNwhi-6u_3sm_gk3b27M";

const chatWindow = document.getElementById('chat-window');
const userInput = document.getElementById('user-input');
const sendBtn = document.getElementById('send-btn');

async function sendMessage(){

const text = userInput.value.trim();
if(!text) return;

appendMessage(text,'user');
userInput.value='';
sendBtn.disabled=true;

try{

const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${API_KEY}`,
{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({
contents:[
{
role:'user',
parts:[{text:text}]
}
],
generationConfig:{
temperature:0.7,
maxOutputTokens:2048
}
})
});

const data = await response.json();

if(data.error){
appendMessage(data.error.message,'bot');
}else{
const reply = data.candidates[0].content.parts[0].text;
appendMessage(reply,'bot');
}

}catch(e){
appendMessage('حدث خطأ بالاتصال','bot');
}

sendBtn.disabled=false;
}

function appendMessage(text,type){
const msg = document.createElement('div');
msg.className='message '+type;
msg.innerText=text;
chatWindow.appendChild(msg);
chatWindow.scrollTop=chatWindow.scrollHeight;
}

sendBtn.onclick=sendMessage;
userInput.onkeypress=e=>{ if(e.key==='Enter') sendMessage(); };

</script>

</body>
</html>
